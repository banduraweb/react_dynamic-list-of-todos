{"version":3,"sources":["User.js","TodoItem.js","Api.js","TodoList.js","App.js","index.js"],"names":["User","_ref","name","user","react_default","a","createElement","Fragment","TodoItem","todo","id","title","completed","src_User","Api","url","Object","classCallCheck","this","fetch","then","response","json","TodoList","urlUsers","urlTodos","isActiveSortBtn","_useState","useState","loading","preparedData","sort","_useState2","slicedToArray","state","setState","useEffect","prev","objectSpread2","todos","users","regenerator_default","async","_context","next","awrap","getData","sent","map","find","userId","stop","fetchData","dataFromServer","b","className","src_TodoItem","key","USERS","TODOS","App","isClicked","type","onClick","prevState","src_TodoList","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.ba72610f.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction User({ user }) {\n  const { name } = user;\n\n  return (\n    <>\n      <td>{name}</td>\n    </>\n  );\n}\n\nexport default User;\n\nUser.propTypes = {\n  user: PropTypes.objectOf(PropTypes.any).isRequired,\n  name: PropTypes.string.isRequired,\n};\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport User from './User';\n\nfunction TodoItem({ todo }) {\n  const { id, title, completed, user } = todo;\n\n  return (\n    <>\n\n      <tbody>\n        <tr>\n          <td>{id}</td>\n          <td>{title}</td>\n          <User user={user} />\n          <td>{completed ? 'completed' : 'not completed'}</td>\n        </tr>\n      </tbody>\n    </>\n  );\n}\n\nexport default TodoItem;\n\nTodoItem.propTypes = {\n  todo: PropTypes.arrayOf(PropTypes.any).isRequired,\n};\n","export default class Api {\n  constructor(url) {\n    this.url = url;\n  }\n\n  getData() {\n    return fetch(this.url).then(response => response.json());\n  }\n}\n","import React, { useState, useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport TodoItem from './TodoItem';\nimport Api from './Api';\n\nfunction TodoList({ urlUsers, urlTodos, isActiveSortBtn }) {\n  const initialState = {\n    loading: true,\n    preparedData: [],\n    sort: null,\n  };\n\n  const [state, setState] = useState(initialState);\n\n  useEffect(() => {\n    setState(prev => ({\n      ...prev,\n      sort: !prev.sort,\n    }));\n  }, [isActiveSortBtn]);\n\n  useEffect(() => {\n    async function fetchData() {\n      const todos = await new Api(urlTodos).getData();\n      const users = await new Api(urlUsers).getData();\n\n      setState({\n        loading: false,\n        preparedData: todos.map(todo => ({\n          ...todo,\n          user: users.find(user => user.id === todo.userId),\n        })),\n\n      });\n    } fetchData();\n  }, [urlTodos, urlUsers]);\n\n  const { preparedData, sort } = state;\n\n  const dataFromServer = sort\n    ? preparedData.sort((a, b) => a.completed - b.completed)\n    : preparedData.sort((a, b) => b.completed - a.completed);\n\n  return (\n\n    <>\n\n      { state.loading\n\n        && (\n          <div className=\"spiner\">\n            <h1>LOADING...</h1>\n          </div>\n\n        )\n      }\n\n      {dataFromServer.map(todo => (\n        <TodoItem todo={todo} key={todo.id} />\n      ))}\n    </>\n\n  );\n}\n\nexport default TodoList;\n\nTodoList.propTypes = {\n  urlUsers: PropTypes.objectOf(PropTypes.any).isRequired,\n  urlTodos: PropTypes.objectOf(PropTypes.any).isRequired,\n  isActiveSortBtn: PropTypes.objectOf(PropTypes.any).isRequired,\n};\n","import React, { useState } from 'react';\nimport TodoList from './TodoList';\nimport './App.css';\n\nconst USERS = 'https://jsonplaceholder.typicode.com/users';\nconst TODOS = 'https://jsonplaceholder.typicode.com/todos';\n\nfunction App() {\n  const initialState = {\n    isClicked: false,\n    isActiveSortBtn: false,\n  };\n\n  const [state, setState] = useState(initialState);\n\n  const getListTodos = () => {\n    if (!state.isClicked) {\n      setState(prevState => ({\n        ...prevState,\n        isClicked: true,\n      }));\n    }\n  };\n\n  const handleSort = () => {\n    setState(prevState => ({\n      ...prevState,\n      isActiveSortBtn: !prevState.isActiveSortBtn,\n    }));\n  };\n\n  const { isActiveSortBtn } = state;\n\n  return (\n    <div className=\"App\">\n\n      <h1 className=\"nav\">Dynamic list of todos</h1>\n      {!state.isClicked && (\n        <button\n          className=\"waves-effect waves-light btn-large\"\n          type=\"button\"\n          onClick={() => {\n            getListTodos();\n          }}\n        >\n        SHOW TODOS\n          <i className=\"material-icons right\">arrow_drop_down</i>\n        </button>\n      )\n      }\n\n      {state.isClicked\n      && (\n        <table className=\"highlight responsive-table centered\">\n          <thead>\n            <tr>\n              <th>TODOS ID</th>\n              <th>TITLE</th>\n              <th>USER NAME</th>\n              <th>\n                <button\n                  onClick={handleSort}\n                  className=\"waves-effect waves-light btn\"\n                  type=\"button\"\n                >\n              Sort by STATUS\n                  <i className=\"material-icons right\">\n                    {isActiveSortBtn ? 'arrow_drop_up' : 'arrow_drop_down'}\n                  </i>\n                </button>\n\n              </th>\n            </tr>\n          </thead>\n          <TodoList\n            urlUsers={USERS}\n            urlTodos={TODOS}\n            isActiveSortBtn={isActiveSortBtn}\n          />\n\n        </table>\n      )\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}